\section{Approach}
\label{sec:approach}
\begin{itemize}
    \item Assume $d_\text{intermed} = Md_\text{in}$
    \item Let $d$ denote dimension and $N$ denote quantity
    \item For vanilla FFN, total number of parameters is $2d_\text{intermid}d_\text{in}$
    \item For MoE, total number of parameters is $2d_\text{in}N_\text{experts}(d_\text{intermed}+1)$
    \item For Controller FFN, total number of parameters is $2d_\text{in}(d_\text{intermed}+\frac{d_\text{intermed} + d_\text{in}}{2N_\text{blocks}})$
    \item For product key memory, total number of parameters is $2d_\text{in}(N_\text{head}d_\text{subkey}+\frac{N_\text{subkey}^2}{2}+\frac{N_\text{head}N_\text{subkey}d_\text{subkey}}{d_\text{in}})$
    \item $d_\text{in}$ is fixed, the other hyperparameters are set so that sparse FFNs has the same number of parameters as vanilla FFN.
\end{itemize}


